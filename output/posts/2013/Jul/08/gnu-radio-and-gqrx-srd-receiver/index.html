<!DOCTYPE html>         <!-- This is the HTML5 doctype -->
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:og="http://ogp.me/ns#"
      xmlns:fb="https://www.facebook.com/2008/fbml">
<head>
    <title>GNU Radio and Gqrx SDR Receiver - Jeff's Skinner Box</title>
    <!-- Using the latest rendering mode for IE -->
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    
    <link href="../../../../../favicon.ico" rel="icon">

    <!-- Open Graph tags -->
            <meta property="og:type" content="article"/>
            <meta property="og:title" content="GNU Radio and Gqrx SDR Receiver"/>
            <meta property="og:url" content="../../../../../posts/2013/Jul/08/gnu-radio-and-gqrx-srd-receiver/"/>
            <meta property="og:description" content="GNU Radio is a free, open-source software development toolkit that provides signal processing blocks to implement software defined radios. It can be used with external RF hardware to create software-defined radios, or without hardware in a simulation-like environment."/>

    <!-- Bootstrap -->
        <link href="../../../../../theme/css/bootstrap.flatly.min.css" rel="stylesheet" type="text/css"/>

    <!-- Font Awesome and Google Fonts -->
    <link href="../../../../../theme/css/font-awesome.min.css" rel="stylesheet">
    <link href='http://fonts.googleapis.com/css?family=Knewave' rel='stylesheet' type='text/css'>

    <link href="../../../../../theme/css/pygments/default.css" rel="stylesheet">
    <link href="../../../../../theme/css/style.css" rel="stylesheet" type="text/css"/>
        <link href="../../../../../static/custom.css" rel="stylesheet">

</head>

<body>
<div class="navbar navbar-default navbar-fixed-top" role="navigation" style="box-shadow: 5px 5px 10px #888888;">
    <div class="container">
        <div class="navbar-header">
            <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-ex1-collapse">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>
            <a href="../../../../../" style="font-family: Knewave, cursive; font-size: 48px; color: #FFFFFF">
Jeff's Skinner Box&nbsp;            </a>
        </div>
        <div class="collapse navbar-collapse navbar-ex1-collapse">
            <ul class="nav navbar-nav">
                    <li><a href="/pages/about-me/">About Me</a></li>
                    <li><a href="http://127.0.0.1:8080">MicroContent</a></li>
                    <li><a href="/pages/open-notebook/">Open Notebook</a></li>
            </ul>
            <ul class="nav navbar-nav">
                <li><a href="../../../../../archives.html">Archives</span></a></li>
            </ul>
        </div>
        <!-- /.navbar-collapse -->
    </div>
  <!-- GitHub Ribbon - https://github.com/blog/273-github-ribbons -->
<!-- GitHub Ribbon - https://github.com/blog/273-github-ribbons -->
    <a href="https://github.com/jeffskinnerbox/jeffskinnerbox.github.io/tree/source" target="_blank">
        <img style="position: absolute; top: 0; right: 0; border: 0;" src="https://github-camo.global.ssl.fastly.net/365986a132ccd6a44c23a9169022c0b5c890c387/68747470733a2f2f73332e616d617a6f6e6177732e636f6d2f6769746875622f726962626f6e732f666f726b6d655f72696768745f7265645f6161303030302e706e67" alt="Fork me on GitHub" data-canonical-src="https://s3.amazonaws.com/github/ribbons/forkme_right_red_aa0000.png">
    </a>
</div> <!-- /.navbar -->

<div class="container">
    <div class="row">
        <div class="col-sm-9">

    <section id="content">
        <article>
            <header class="page-header">
                <h1>
                    <a href="../../../../../posts/2013/Jul/08/gnu-radio-and-gqrx-srd-receiver/"
                       rel="bookmark"
                       title="Permalink to GNU Radio and Gqrx SDR Receiver">
                        GNU Radio and Gqrx SDR Receiver
                    </a>
                </h1>
            </header>
            <div class="entry-content">
                <div class="panel">
                    <div class="panel-body">
<footer class="post-info">
    <span class="published">
        <i class="fa fa-calendar"></i><time datetime="2013-07-08T00:01:00-04:00"> Monday&nbsp;&nbsp;&nbsp;&nbsp;July 08, 2013</time>
    </span>



&nbsp;&nbsp;&nbsp;
<i class="fa fa-tags fa-lg"></i>
    <a class="btn btn-default btn-xs" href="../../../../../tag/rtl-sdr/">RTL-SDR</a>
        &nbsp;
    <a class="btn btn-default btn-xs" href="../../../../../tag/software-defined-radio/">Software Defined Radio</a>
    
</footer><!-- /.post-info -->                    </div>
                </div>
                <p><a href="http://gnuradio.org/redmine/projects/gnuradio/wiki/GNURadioCompanion">
    <img class="img-rounded" style="margin: 0px 8px; float: left" alt="grc logo" src="/images/gnu_radio_logo.png" width="256" height="256" />
</a>
In <a href="http://jeffskinnerbox.wordpress.com/2013/05/26/rtl-sdr-software-defined-radio-sdr-for-20/">my last post</a>, I was using the <a href="http://gnuradio.org/redmine/projects/gnuradio/wiki/Hardware">RTL2832 TV tuner</a> dongle to get a simple <a href="http://en.wikipedia.org/wiki/Software-defined_radio">Software Defined Radio (SDR)</a> operational.  I wanted to use the <a href="http://sdrsharp.com/">SDR#</a> program as my receiver but found that the MS Windows tool would not work and so I targeted <a href="http://www.oz9aec.net/index.php/gnu-radio/gqrx-sdr">Gqrx</a> as an alternative. Gqrx is dependent on the <a href="http://gnuradio.org/redmine/projects/gnuradio/wiki">GNU Radio</a>.  So in this post, I plan to get Gqrx and GNU Radio up and operational with the <a href="http://rtlsdr.org/">RTL-SDR dongle</a>.  I spend some time with other tools to help further verify (with mixed success) that GNU Radio is working.</p>
<p>The contain here comes from multiple source and I attempt to list those sources below.  For a good video to get a sense of what your in for, check out this <a href="http://dangerousprototypes.com/2013/05/22/tutorial-kali-linux-with-gnu-radio-gqrx-and-rtl-sdr-dongle/">video</a>. Also, this <a href="http://blog.opensecurityresearch.com/2012/06/getting-started-with-gnu-radio-and-rtl.html">post</a> covers many of the topics here.</p>
<p>GNU Radio is a free &amp; open-source software development toolkit that provides signal processing blocks to implement software defined radios. It can be used with readily-available low-cost external RF hardware to create software-defined radios, or without hardware in a simulation-like environment. It is being used in hobbyist, academic, and commercial environments to support both wireless communications research and real-world radio systems. <a href="http://radioware.nd.edu/documentation">
</a></p>
<p>Gqrx is an experimental AM, FM and Single Side Band (SSB) software defined receiver implemented using GNU Radio and the Qt GUI toolkit. Currently it works on Linux and can use the RTL_SDR dongles as input source.</p>
<p>Also within this post, I venture out from gqrx to examine a few other tools.  I don't cover much territory, nor have much success.  The insperation to examine these other tools comes mainly from the lengthy post "<a href="http://superkuh.com/rtlsdr.html#simple_ra">RTL-SDR and GNU Radio with Realtek RTL2832U [Elonics E4000/Raphael Micro R820T] software defined radio receiver</a>".  Also check out "<a href="http://blog.opensecurityresearch.com/2012/06/getting-started-with-gnu-radio-and-rtl.html">Getting Started with GNU Radio and RTL-SDR (on Backtrack)</a>".
<h2>Build GNU Radio on Ubuntu</h2>
The GNU Radio web site has <a href="http://gnuradio.org/redmine/projects/gnuradio/wiki/InstallingGR#Using-the-build-gnuradio-script">specific instructions</a> and a build script for installing it on Ubuntu (I'm using version 13.04).  This process claims it may take 1-2 hours to do the install (for me it ran in 1 hour 14 minutes).  The steps are as follows:</p>
<div class="codehilite" style="background: #f0f3f3"><pre style="line-height: 125%"><span></span><span style="color: #336666">cd</span> ~/src
mkdir ~/gnuradio
<span style="color: #336666">cd</span> ~/gnuradio
wget http://www.sbrac.org/files/build-gnuradio <span style="color: #555555">&amp;&amp;</span> chmod a+x ./build-gnuradio <span style="color: #555555">&amp;&amp;</span> ./build-gnuradio --verbose
</pre></div>


<p>When prompted, tell it to proceed and give it <code>sudo</code> privilege by typing "Y". Because of the <code>--verbose</code> option, you will see a lot of text whizzing by as the <code>build-gnuradio</code> script does its thing. You’ll also see a percentage complete indicator as the script works its way down it tasks.</p>
<p>The GNU Radio build creates a large variety of tools which get installed into <code>/usr/local/bin</code>.  You also notice that tools not directly related to GNU Radio are also created. I'll leave it for another time to understand and explain the GNU Radio environment.
<h2>The "Hello World" of GNU Radio</h2>
<a href="http://jeffskinnerbox.files.wordpress.com/2013/06/dial_tone-grc-home-jeff-gnu-radio-companion_006.png">
    <img class="img-rounded" style="margin: 0px 8px; float: left" alt="dial_tone.grc - -home-jeff - GNU Radio Companion_006" src="/images/dial_tone-grc-home-jeff-gnu-radio-companion.png" width="250" height="138" />
</a>
To verify that the software is working, best thing is to create the typical "Hello, World" program, just we might have done for our first foray into C++, Python, or other programming language.  In the world of GNU Radio, this program has come to be the phone dial tone. To do this, I followed the video <a href="http://www.youtube.com/watch?v=xxe87CdIq-s">The "Hello World" of GNU Radio: Dial Tone</a> and the <a href="http://gnuradio.org/redmine/projects/gnuradio/wiki/TutorialsWritePythonApplications">gnuradio.org</a>.  I did this using the <a href="http://gnuradio.org/redmine/projects/gnuradio/wiki/GNURadioCompanion">GNU Radio Companion</a> (executable located at <code>/usr/local/bin/gnuradio-companion</code>).  GNU Radio Companion (GRC) is a graphical tool for creating signal flow graphical models and generating Python source code for the model created.</p>
<p>GRC's generated flow and code for the "Hello, World" program is listed below. The Python code for the dial tone program was placed in the home directory, and in my case, it was called <code>dail_tone.py</code>. While it can be executed via the <code>gnuradio-companion</code>, it can also be executed via <code>python dial_tone.py</code>. The user interface for the GRC and the corresponding Python code it generated is listed below:</p>
<div class="codehilite" style="background: #f0f3f3"><pre style="line-height: 125%"><span></span><span style="color: #0099FF; font-style: italic">#!/usr/bin/env python</span>
<span style="color: #0099FF; font-style: italic">##################################################</span>
<span style="color: #0099FF; font-style: italic"># Gnuradio Python Flow Graph</span>
<span style="color: #0099FF; font-style: italic"># Title: Dial Tone</span>
<span style="color: #0099FF; font-style: italic"># Author: Jeff Irland</span>
<span style="color: #0099FF; font-style: italic"># Description: &quot;Hello, World&quot; program - produces phone dial tone</span>
<span style="color: #0099FF; font-style: italic"># Generated: Sat Jun 22 21:24:56 2013</span>
<span style="color: #0099FF; font-style: italic">##################################################</span>

<span style="color: #006699; font-weight: bold">from</span> <span style="color: #00CCFF; font-weight: bold">gnuradio</span> <span style="color: #006699; font-weight: bold">import</span> analog
<span style="color: #006699; font-weight: bold">from</span> <span style="color: #00CCFF; font-weight: bold">gnuradio</span> <span style="color: #006699; font-weight: bold">import</span> audio
<span style="color: #006699; font-weight: bold">from</span> <span style="color: #00CCFF; font-weight: bold">gnuradio</span> <span style="color: #006699; font-weight: bold">import</span> blocks
<span style="color: #006699; font-weight: bold">from</span> <span style="color: #00CCFF; font-weight: bold">gnuradio</span> <span style="color: #006699; font-weight: bold">import</span> eng_notation
<span style="color: #006699; font-weight: bold">from</span> <span style="color: #00CCFF; font-weight: bold">gnuradio</span> <span style="color: #006699; font-weight: bold">import</span> gr
<span style="color: #006699; font-weight: bold">from</span> <span style="color: #00CCFF; font-weight: bold">gnuradio</span> <span style="color: #006699; font-weight: bold">import</span> window
<span style="color: #006699; font-weight: bold">from</span> <span style="color: #00CCFF; font-weight: bold">gnuradio.eng_option</span> <span style="color: #006699; font-weight: bold">import</span> eng_option
<span style="color: #006699; font-weight: bold">from</span> <span style="color: #00CCFF; font-weight: bold">gnuradio.gr</span> <span style="color: #006699; font-weight: bold">import</span> firdes
<span style="color: #006699; font-weight: bold">from</span> <span style="color: #00CCFF; font-weight: bold">gnuradio.wxgui</span> <span style="color: #006699; font-weight: bold">import</span> fftsink2
<span style="color: #006699; font-weight: bold">from</span> <span style="color: #00CCFF; font-weight: bold">gnuradio.wxgui</span> <span style="color: #006699; font-weight: bold">import</span> forms
<span style="color: #006699; font-weight: bold">from</span> <span style="color: #00CCFF; font-weight: bold">gnuradio.wxgui</span> <span style="color: #006699; font-weight: bold">import</span> scopesink2
<span style="color: #006699; font-weight: bold">from</span> <span style="color: #00CCFF; font-weight: bold">grc_gnuradio</span> <span style="color: #006699; font-weight: bold">import</span> wxgui <span style="color: #006699; font-weight: bold">as</span> grc_wxgui
<span style="color: #006699; font-weight: bold">from</span> <span style="color: #00CCFF; font-weight: bold">optparse</span> <span style="color: #006699; font-weight: bold">import</span> OptionParser
<span style="color: #006699; font-weight: bold">import</span> <span style="color: #00CCFF; font-weight: bold">wx</span>

<span style="color: #006699; font-weight: bold">class</span> <span style="color: #00AA88; font-weight: bold">dial_tone</span>(grc_wxgui<span style="color: #555555">.</span>top_block_gui):

    <span style="color: #006699; font-weight: bold">def</span> <span style="color: #CC00FF">__init__</span>(<span style="color: #336666">self</span>):
        grc_wxgui<span style="color: #555555">.</span>top_block_gui<span style="color: #555555">.</span>__init__(<span style="color: #336666">self</span>, title<span style="color: #555555">=</span><span style="color: #CC3300">&quot;Dial Tone&quot;</span>)
        _icon_path <span style="color: #555555">=</span> <span style="color: #CC3300">&quot;/usr/share/icons/hicolor/32x32/apps/gnuradio-grc.png&quot;</span>
        <span style="color: #336666">self</span><span style="color: #555555">.</span>SetIcon(wx<span style="color: #555555">.</span>Icon(_icon_path, wx<span style="color: #555555">.</span>BITMAP_TYPE_ANY))

        <span style="color: #0099FF; font-style: italic">##################################################</span>
        <span style="color: #0099FF; font-style: italic"># Variables</span>
        <span style="color: #0099FF; font-style: italic">##################################################</span>
        <span style="color: #336666">self</span><span style="color: #555555">.</span>samp_rate <span style="color: #555555">=</span> samp_rate <span style="color: #555555">=</span> <span style="color: #FF6600">32000</span>
        <span style="color: #336666">self</span><span style="color: #555555">.</span>noise_slider <span style="color: #555555">=</span> noise_slider <span style="color: #555555">=</span> <span style="color: #555555">.</span><span style="color: #FF6600">005</span>

        <span style="color: #0099FF; font-style: italic">##################################################</span>
        <span style="color: #0099FF; font-style: italic"># Blocks</span>
        <span style="color: #0099FF; font-style: italic">##################################################</span>
        _noise_slider_sizer <span style="color: #555555">=</span> wx<span style="color: #555555">.</span>BoxSizer(wx<span style="color: #555555">.</span>VERTICAL)
        <span style="color: #336666">self</span><span style="color: #555555">.</span>_noise_slider_text_box <span style="color: #555555">=</span> forms<span style="color: #555555">.</span>text_box(
            parent<span style="color: #555555">=</span><span style="color: #336666">self</span><span style="color: #555555">.</span>GetWin(),
            sizer<span style="color: #555555">=</span>_noise_slider_sizer,
            value<span style="color: #555555">=</span><span style="color: #336666">self</span><span style="color: #555555">.</span>noise_slider,
            callback<span style="color: #555555">=</span><span style="color: #336666">self</span><span style="color: #555555">.</span>set_noise_slider,
            label<span style="color: #555555">=</span><span style="color: #CC3300">&#39;noise_slider&#39;</span>,
            converter<span style="color: #555555">=</span>forms<span style="color: #555555">.</span>float_converter(),
            proportion<span style="color: #555555">=</span><span style="color: #FF6600">0</span>,
        )
        <span style="color: #336666">self</span><span style="color: #555555">.</span>_noise_slider_slider <span style="color: #555555">=</span> forms<span style="color: #555555">.</span>slider(
            parent<span style="color: #555555">=</span><span style="color: #336666">self</span><span style="color: #555555">.</span>GetWin(),
            sizer<span style="color: #555555">=</span>_noise_slider_sizer,
            value<span style="color: #555555">=</span><span style="color: #336666">self</span><span style="color: #555555">.</span>noise_slider,
            callback<span style="color: #555555">=</span><span style="color: #336666">self</span><span style="color: #555555">.</span>set_noise_slider,
            minimum<span style="color: #555555">=</span><span style="color: #FF6600">0</span>,
            maximum<span style="color: #555555">=.</span><span style="color: #FF6600">1</span>,
            num_steps<span style="color: #555555">=</span><span style="color: #FF6600">1000</span>,
            style<span style="color: #555555">=</span>wx<span style="color: #555555">.</span>SL_VERTICAL,
            cast<span style="color: #555555">=</span><span style="color: #336666">float</span>,
            proportion<span style="color: #555555">=</span><span style="color: #FF6600">1</span>,
        )
        <span style="color: #336666">self</span><span style="color: #555555">.</span>Add(_noise_slider_sizer)
        <span style="color: #336666">self</span><span style="color: #555555">.</span>wxgui_scopesink2_0 <span style="color: #555555">=</span> scopesink2<span style="color: #555555">.</span>scope_sink_f(
            <span style="color: #336666">self</span><span style="color: #555555">.</span>GetWin(),
            title<span style="color: #555555">=</span><span style="color: #CC3300">&quot;Scope Plot&quot;</span>
            sample_rate<span style="color: #555555">=</span>samp_rate,
            v_scale<span style="color: #555555">=</span><span style="color: #FF6600">0</span>,
            v_offset<span style="color: #555555">=</span><span style="color: #FF6600">0</span>,
            t_scale<span style="color: #555555">=</span><span style="color: #FF6600">0</span>,
            ac_couple<span style="color: #555555">=</span><span style="color: #336666">False</span>,
            xy_mode<span style="color: #555555">=</span><span style="color: #336666">False</span>,
            num_inputs<span style="color: #555555">=</span><span style="color: #FF6600">1</span>,
            trig_mode<span style="color: #555555">=</span>gr<span style="color: #555555">.</span>gr_TRIG_MODE_AUTO,
            y_axis_label<span style="color: #555555">=</span><span style="color: #CC3300">&quot;Counts&quot;</span>,
        )
        <span style="color: #336666">self</span><span style="color: #555555">.</span>Add(<span style="color: #336666">self</span><span style="color: #555555">.</span>wxgui_scopesink2_0<span style="color: #555555">.</span>win)
        <span style="color: #336666">self</span><span style="color: #555555">.</span>wxgui_fftsink2_0 <span style="color: #555555">=</span> fftsink2<span style="color: #555555">.</span>fft_sink_f(
            <span style="color: #336666">self</span><span style="color: #555555">.</span>GetWin(),
            baseband_freq<span style="color: #555555">=</span><span style="color: #FF6600">0</span>,
            y_per_div<span style="color: #555555">=</span><span style="color: #FF6600">10</span>,
            y_divs<span style="color: #555555">=</span><span style="color: #FF6600">10</span>,
            ref_level<span style="color: #555555">=</span><span style="color: #FF6600">0</span>,
            ref_scale<span style="color: #555555">=</span><span style="color: #FF6600">2.0</span>,
            sample_rate<span style="color: #555555">=</span>samp_rate,
            fft_size<span style="color: #555555">=</span><span style="color: #FF6600">1024</span>,
            fft_rate<span style="color: #555555">=</span><span style="color: #FF6600">15</span>,
            average<span style="color: #555555">=</span><span style="color: #336666">False</span>,
            avg_alpha<span style="color: #555555">=</span><span style="color: #336666">None</span>,
            title<span style="color: #555555">=</span><span style="color: #CC3300">&quot;FFT Plot&quot;</span>,
            peak_hold<span style="color: #555555">=</span><span style="color: #336666">False</span>,
        )
        <span style="color: #336666">self</span><span style="color: #555555">.</span>Add(<span style="color: #336666">self</span><span style="color: #555555">.</span>wxgui_fftsink2_0<span style="color: #555555">.</span>win)
        <span style="color: #336666">self</span><span style="color: #555555">.</span>blocks_add_xx_0 <span style="color: #555555">=</span> blocks<span style="color: #555555">.</span>add_vff(<span style="color: #FF6600">1</span>)
        <span style="color: #336666">self</span><span style="color: #555555">.</span>audio_sink_0 <span style="color: #555555">=</span> audio<span style="color: #555555">.</span>sink(<span style="color: #FF6600">32000</span>, <span style="color: #CC3300">&quot;pulse&quot;</span>, <span style="color: #336666">True</span>)
        <span style="color: #336666">self</span><span style="color: #555555">.</span>analog_sig_source_x_1 <span style="color: #555555">=</span> analog<span style="color: #555555">.</span>sig_source_f(samp_rate, analog<span style="color: #555555">.</span>GR_COS_WAVE, <span style="color: #FF6600">350</span>, <span style="color: #555555">.</span><span style="color: #FF6600">1</span>, <span style="color: #FF6600">0</span>)
        <span style="color: #336666">self</span><span style="color: #555555">.</span>analog_sig_source_x_0 <span style="color: #555555">=</span> analog<span style="color: #555555">.</span>sig_source_f(samp_rate, analog<span style="color: #555555">.</span>GR_COS_WAVE, <span style="color: #FF6600">440</span>, <span style="color: #555555">.</span><span style="color: #FF6600">1</span>, <span style="color: #FF6600">0</span>)
        <span style="color: #336666">self</span><span style="color: #555555">.</span>analog_noise_source_x_0 <span style="color: #555555">=</span> analog<span style="color: #555555">.</span>noise_source_f(analog<span style="color: #555555">.</span>GR_GAUSSIAN, noise_slider, <span style="color: #FF6600">0</span>)

        <span style="color: #0099FF; font-style: italic">##################################################</span>
        <span style="color: #0099FF; font-style: italic"># Connections</span>
        <span style="color: #0099FF; font-style: italic">##################################################</span>
        <span style="color: #336666">self</span><span style="color: #555555">.</span>connect((<span style="color: #336666">self</span><span style="color: #555555">.</span>blocks_add_xx_0, <span style="color: #FF6600">0</span>), (<span style="color: #336666">self</span><span style="color: #555555">.</span>wxgui_scopesink2_0, <span style="color: #FF6600">0</span>))
        <span style="color: #336666">self</span><span style="color: #555555">.</span>connect((<span style="color: #336666">self</span><span style="color: #555555">.</span>blocks_add_xx_0, <span style="color: #FF6600">0</span>), (<span style="color: #336666">self</span><span style="color: #555555">.</span>audio_sink_0, <span style="color: #FF6600">0</span>))
        <span style="color: #336666">self</span><span style="color: #555555">.</span>connect((<span style="color: #336666">self</span><span style="color: #555555">.</span>analog_sig_source_x_0, <span style="color: #FF6600">0</span>), (<span style="color: #336666">self</span><span style="color: #555555">.</span>blocks_add_xx_0, <span style="color: #FF6600">2</span>))
        <span style="color: #336666">self</span><span style="color: #555555">.</span>connect((<span style="color: #336666">self</span><span style="color: #555555">.</span>analog_sig_source_x_1, <span style="color: #FF6600">0</span>), (<span style="color: #336666">self</span><span style="color: #555555">.</span>blocks_add_xx_0, <span style="color: #FF6600">1</span>))
        <span style="color: #336666">self</span><span style="color: #555555">.</span>connect((<span style="color: #336666">self</span><span style="color: #555555">.</span>analog_noise_source_x_0, <span style="color: #FF6600">0</span>), (<span style="color: #336666">self</span><span style="color: #555555">.</span>blocks_add_xx_0, <span style="color: #FF6600">0</span>))
        <span style="color: #336666">self</span><span style="color: #555555">.</span>connect((<span style="color: #336666">self</span><span style="color: #555555">.</span>blocks_add_xx_0, <span style="color: #FF6600">0</span>), (<span style="color: #336666">self</span><span style="color: #555555">.</span>wxgui_fftsink2_0, <span style="color: #FF6600">0</span>))

    <span style="color: #006699; font-weight: bold">def</span> <span style="color: #CC00FF">get_samp_rate</span>(<span style="color: #336666">self</span>):
        <span style="color: #006699; font-weight: bold">return</span> <span style="color: #336666">self</span><span style="color: #555555">.</span>samp_rate

    <span style="color: #006699; font-weight: bold">def</span> <span style="color: #CC00FF">set_samp_rate</span>(<span style="color: #336666">self</span>, samp_rate):
        <span style="color: #336666">self</span><span style="color: #555555">.</span>samp_rate <span style="color: #555555">=</span> samp_rate
        <span style="color: #336666">self</span><span style="color: #555555">.</span>analog_sig_source_x_0<span style="color: #555555">.</span>set_sampling_freq(<span style="color: #336666">self</span><span style="color: #555555">.</span>samp_rate)
        <span style="color: #336666">self</span><span style="color: #555555">.</span>analog_sig_source_x_1<span style="color: #555555">.</span>set_sampling_freq(<span style="color: #336666">self</span><span style="color: #555555">.</span>samp_rate)
        <span style="color: #336666">self</span><span style="color: #555555">.</span>wxgui_fftsink2_0<span style="color: #555555">.</span>set_sample_rate(<span style="color: #336666">self</span><span style="color: #555555">.</span>samp_rate)
        <span style="color: #336666">self</span><span style="color: #555555">.</span>wxgui_scopesink2_0<span style="color: #555555">.</span>set_sample_rate(<span style="color: #336666">self</span><span style="color: #555555">.</span>samp_rate)

    <span style="color: #006699; font-weight: bold">def</span> <span style="color: #CC00FF">get_noise_slider</span>(<span style="color: #336666">self</span>):
        <span style="color: #006699; font-weight: bold">return</span> <span style="color: #336666">self</span><span style="color: #555555">.</span>noise_slider

    <span style="color: #006699; font-weight: bold">def</span> <span style="color: #CC00FF">set_noise_slider</span>(<span style="color: #336666">self</span>, noise_slider):
        <span style="color: #336666">self</span><span style="color: #555555">.</span>noise_slider <span style="color: #555555">=</span> noise_slider
        <span style="color: #336666">self</span><span style="color: #555555">.</span>analog_noise_source_x_0<span style="color: #555555">.</span>set_amplitude(<span style="color: #336666">self</span><span style="color: #555555">.</span>noise_slider)
        <span style="color: #336666">self</span><span style="color: #555555">.</span>_noise_slider_slider<span style="color: #555555">.</span>set_value(<span style="color: #336666">self</span><span style="color: #555555">.</span>noise_slider)
        <span style="color: #336666">self</span><span style="color: #555555">.</span>_noise_slider_text_box<span style="color: #555555">.</span>set_value(<span style="color: #336666">self</span><span style="color: #555555">.</span>noise_slider)

<span style="color: #006699; font-weight: bold">if</span> __name__ <span style="color: #555555">==</span> <span style="color: #CC3300">&#39;__main__&#39;</span>:
    parser <span style="color: #555555">=</span> OptionParser(option_class<span style="color: #555555">=</span>eng_option, usage<span style="color: #555555">=</span><span style="color: #CC3300">&quot;%prog: [options]&quot;</span>)
    (options, args) <span style="color: #555555">=</span> parser<span style="color: #555555">.</span>parse_args()
    tb <span style="color: #555555">=</span> dial_tone()
    tb<span style="color: #555555">.</span>Run(<span style="color: #336666">True</span>)
</pre></div>


<p>When the GRC flow execution button is pressed, the scope and FFT plots are are created as shown below:</p>
<p><a href="http://jeffskinnerbox.files.wordpress.com/2013/06/dial-tone_005.png">
    <img class="img-rounded" style="margin: 0px 8px; float: left" alt="Dial Tone_005" src="/images/dial-tone_005.png" width="250" height="266" />
</a></p>
<p>The build for GNU Radio also installs the RTL-SDR software, so it would be wise to test GNU Radio with the RTL_SDR hardware and make sure everything is operating as expected.  I want to make a simple FM receiver, comparable to what was done via <a href="http://kmkeen.com/rtl-demod-guide/index.html"><code>rtl_fm</code></a> in <a href="http://jeffskinnerbox.wordpress.com/2013/05/26/rtl-sdr-software-defined-radio-sdr-for-20/">RTL-SDR – Software Defined Radio (SDR) for $20</a>. Something equivalent to:
<p style="padding-left:30px;"><code>rtl_fm -W -f 99.5M | play -r 32k -t raw -e signed-integer -b 16 -c 1 -V1 -</code></p>
Using the following postings as a guide:
<ul>
<ul>
    <li><a href="http://www.youtube.com/watch?v=KWeY2yqwVA0">How To Build an FM Receiver with the USRP in Less Than 10 Minutes</a></li>
    <li><a href="http://cegt201.bradley.edu/projects/proj2011/sdr/update_files/FM_radio_receiver.pdf">Construction of an FM Receiver</a></li>
    <li><a href="http://files.meetup.com/2179791/FM-Demo-by-GNU-Radio.pdf">Assembling an FM Receiver Like Blazes by GNU Radio</a></li>
    <li><a href="http://blog.chris007.de/?p=391">Simple FM Receiver with OsmoSDR in GNURadio</a></li>
    <li><a href="http://dutchgnuradio.blogspot.com/2013/04/rtl2832u-based-wide-band-fm-receiver.html">RTL2832U Based Wide Band FM receiver using GNU RADIO</a></li>
</ul>
</ul>
I had sufficient success to convince myself that GNU Radio was work.
<h2>Building Gqrx on Ubuntu</h2>
Gqrx is a software defined AM, FM and SSB software defined radio receiver for RTL-SDR based dongles (as well as the <a href="http://en.wikipedia.org/wiki/Universal_Software_Radio_Peripheral">Universal Software Radio Peripherals</a> and <a href="http://sdr.osmocom.org/trac/wiki/Hardware">Osmo SDR devices</a>).  It features a  <a href="http://en.wikipedia.org/wiki/Qt_(framework)">Qt GUI</a>.  As a QT program, you'll need to make sure you have QT4 installed (version 5 will not work) and that you have the <a href="http://en.wikipedia.org/wiki/Qt_Creator"><code>qtcreator</code></a> tool is installed:</p>
<div class="codehilite" style="background: #f0f3f3"><pre style="line-height: 125%"><span></span>sudo apt-get install qt4-default
sudo apt-get install phonon-backend-gstreamer
</pre></div>


<p>Now download the source for <a href="http://www.oz9aec.net/index.php/gnu-radio/gqrx-sdr">Gqrx via its page on GitHub</a>  and extract it into your target directory. The posting <a href="http://www.thepowerbase.com/2012/06/getting-started-with-rtl-sdr/2/">Getting Started With RTL-SDR</a> and the <a href="https://github.com/csete/gqrx/blob/master/README.md">README</a> on the GitHub site where useful in understanding how to do the install.  I did the following:</p>
<div class="codehilite" style="background: #f0f3f3"><pre style="line-height: 125%"><span></span>git clone git://github.com/csete/gqrx.git
<span style="color: #336666">cd</span> gqrx
qmake gqrx.pro
make
</pre></div>


<p>At this point, you should find the gqrx executable in <code>~/src/gqrx</code> directory.  Start up via <code>./gqrx</code> and you'll get the screen below (or set your values to equal this):
<p>
<a href="http://jeffskinnerbox.files.wordpress.com/2013/06/configure-i-o-devices_001.png">
    <img class="img-rounded" style="margin: 0px 8px; float: left" alt="Configure I-O devices_001" src="/images/configure-i-o-devices_001.png" width="301" height="346" />
</a>
<p>
Click "OK" and the screen below will pop up.  Make sure you have the RTL-SDR dongle plugged in and select the button on the top left to start processing data.  I have tuned the radio to a local FM station at 85.7MHz and listen to Washington Nationals vs. Phillies baseball!</p>
<p><a href="http://jeffskinnerbox.files.wordpress.com/2013/06/gqrx-0-0-rtl0_004.png">
    <img class="img-rounded" style="margin: 0px 8px; float: left" alt="Gqrx 0.0 - rtl=0_004" src="/images/gqrx-0-0-rtl0_004.png" width="500" height="384" />
</a>
<h2>Building Multimode Radio Receiver</h2>
This radio receiver is capable of demodulating muitiple modes, specifically AM, FM, USB, LSB , WFM. TV-FM, PAL-FM. It's easy to use and  has an automated scanning and spectral zoom features where clicking on the spectrogram or panorama to tune to the frequency of interest.</p>
<p>Multimode documentation is sparse to non existent. The posts "<a href="http://foxgulch.com/WordPress/?p=615">Using the Realtek RTL2832 USB “dongle” as a gnuradio multimode receiver</a>" and "<a href="http://superkuh.com/rtlsdr.html#multimodeappnote">RTL-SDR and GNU Radio with Realtek RTL2832U [Elonics E4000/Raphael Micro R820T] software defined radio receiver</a>" and "<a href="http://blog.opensecurityresearch.com/2012/06/getting-started-with-gnu-radio-and-rtl.html">Getting Started with GNU Radio and RTL-SDR (on Backtrack)</a>" gave some important hints on how to install multimode and get it operational.  I did the following:</p>
<div class="codehilite" style="background: #f0f3f3"><pre style="line-height: 125%"><span></span><span style="color: #336666">cd</span> ~
svn co https://www.cgran.org/svn/projects/multimode/trunk/ ~/src/multimode
make install
</pre></div>


<p>When I executed <code>multimode.py</code>, it didn't product a display.  I suspect its some subtle Python code problem, or more likely.  incompatibility with the latest GNU Radio libraries.  For now, I'm going to abandon this.
<h2>GNU Radio Signal Scanner</h2>
<a href="http://www.techmeology.co.uk/gr-scan/">gr-scan</a> is a program  built upon GNU Radio, rtl-sdr, and the OsmoSDR Source Block.  This receiver constantly changes frequencies in a set order looking for a frequency that has someone transmitting. It is intended to scan a range of frequencies and print a list of discovered signals.  Installation involved the following steps:</p>
<div class="codehilite" style="background: #f0f3f3"><pre style="line-height: 125%"><span></span><span style="color: #336666">cd</span> ~./src
mkdir gr-scan
<span style="color: #336666">cd</span> gr-scan
</pre></div>


<p>with your browser, download: <code>http://www.techmeology.co.uk/gr-scan/gr-scan-2012082301.tar.gz</code></p>
<div class="codehilite" style="background: #f0f3f3"><pre style="line-height: 125%"><span></span>gzip -d gr-scan-2012082301.tar.gz
tar -xvvf gr-scan-2012082301.tar
<span style="color: #336666">cd</span> gr-scan-2012082301
make
</pre></div>


<p>When I attempted to do the <code>make</code>, it complained about missing Gun Radio files.  I suspect the GNU Radio libraries and include files are layed out differently since the time <code>gr-scan</code> was designed (August of 2012).  I'm leaving fixing this to another time.
<h2>What's Next</h2>
In this and the <a href="http://jeffskinnerbox.wordpress.com/2013/05/26/rtl-sdr-software-defined-radio-sdr-for-20/">previous SDR posts</a>, I focused on getting a taste of the technology without committing myself to much of an effort.  I really need to study and understand the tools that I have assembled. I still need to do a great deal more studying of  the radio spectrum itself ... I feel like I'm wondering in the dark most of the time.</p>
<p>Also, I feel that I'm very limited by the antenna I'm presently using (the <a href="http://jeffskinnerbox.files.wordpress.com/2013/05/71ratxr2wjl-_sl1500_.jpg">pitiful dipole </a>that came with the RTL dongle).  I'm thinking of building a better antenna.  Maybe try to pickup a NOAA weather satellites, with its distinctive audio signal when demodulated, and decode one of its satellite weather photos .... maybe.</p>
<p>Another problem with the RTL-SDR is that its internal oscillator is cheap  and drifts, resulting in clock errors with  many kHz of frequency display error in SDR - depending on a band you're listening to.  This is very annoying if you use your dongle as a radio scanner - what's the point of knowing frequency of a transmitter if it's almost random on your SDR?   This frequency error is linear across the spectrum, and can be adjusted in most SDR programs by entering a PPM (parts per million) offset value.  So I need to calculate this error offset so I can  calibrate the SDR software.</p>
            </div>
            <!-- /.entry-content -->
        </article>
    </section>

        </div>
        <div class="col-sm-3 well well-sm" id="sidebar" style="box-shadow: 5px 5px 10px #888888;">

<aside>
    <section>
        <ul class="list-group list-group-flush">
                <div style="text-align: center;">
                    <h3><a href="../../../../../pages/about-me/" style="font-family: Knewave, cursive; font-size: 18;">My Electronics Projects And Other Diversions</a>
                    <a href="../../../../../pages/about-me/">
                        <img class="img-rounded" src="../../../../../extra/frustrated-engineer.jpg" alt="Side Bar Picture" height="100%" width="100%">
                    </a>
                </div>

            <font color=#990000>
                <li class="list-group-item"><a href="../../../../../pages/"><h4><i class="fa fa-exclamation-triangle fa-lg"></i><span class="icon-label">Testing Zone</span></h4></a>
                </li>

                <li class="list-group-item"><a href="../../../../../drafts/"><h4><i class="fa fa-edit fa-lg"></i><span class="icon-label">Draft Articles</span></h4></a>
                </li>
            </font>

            <li class="list-group-item"><a href="../../../../../categories.html"><h4><i class="fa fa-folder-open fa-lg"></i><span class="icon-label">Categories</span></h4></a>
            </li>

            <li class="list-group-item"><a href="../../../../../tags.html"><h4><i class="fa fa-tags fa-lg"></i><span class="icon-label">Tags</span></h4></a>
            </li>

            <li class="list-group-item"><a href="../../../../../index.html"><h4><i class="fa fa-clock-o fa-lg"></i><span class="icon-label">Recent Posts</span></h4></a>
            </li>

            <li class="list-group-item"><a href="../../../../../pages/open-notebook/index.html"><h4><i class="fa fa-book fa-lg"></i><span class="icon-label">Open Notebook</span></h4></a>

<li class="list-group-item"><h4><i class="fa fa-file-text fa-lg"></i><span class="icon-label">Site Pages</span></h4>
    <ul class="list-group" id="links">
        <li class="list-group-item">
            <a href="/pages/linux-and-python-packages-for-my-raspberry-pi/index.html" target="_blank">
                RPi Packages
            </a>
        </li>
        <li class="list-group-item">
            <a href="/tag/how-to/index.html" target="_blank">
                How To
            </a>
        </li>
        <li class="list-group-item">
            <a href="/tag/cheat-sheet/index.html" target="_blank">
                Cheat Sheets
            </a>
        </li>
    </ul>
</li>
<li class="list-group-item"><h4><i class="fa fa-puzzle-piece fa-lg"></i><span class="icon-label">MicroContent</span></h4>
    <ul class="list-group" id="wiki">
        <li class="list-group-item">
            <a href="http://127.0.0.1:8080/#Potential Projects" target="_blank">
                Project Ideas
            </a>
        </li>
        <li class="list-group-item">
            <a href="http://127.0.0.1:8080/#Topics for Study" target="_blank">
                Things to Study
            </a>
        </li>
    </ul>
</li>
<li class="list-group-item"><h4><i class="fa fa-link fa-lg"></i><span class="icon-label">External Links</span></h4>
    <ul class="list-group" id="links">
        <li class="list-group-item">
            <a href="http://tiddlywiki.com/" target="_blank">
                TiddlyWiki
            </a>
        </li>
    </ul>
</li>
<li class="list-group-item"><h4><i class="fa fa-group fa-lg"></i><span class="icon-label">Social Media</span></h4>
    <ul class="list-group" id="social">
        <li class="list-group-item"><a href="https://github.com/jeffskinnerbox" target="_blank">
            <i class="fa fa-github"></i> Github
        </a></li>
        <li class="list-group-item"><a href="https://hackaday.io/jeffskinnerbox" target="_blank">
            <i class="fa fa-hacker-news"></i> Hackaday
        </a></li>
        <li class="list-group-item"><a href="https://twitter.com/jeffskinnerbox" target="_blank">
            <i class="fa fa-twitter"></i> Twitter
        </a></li>
        <li class="list-group-item"><a href="https://www.flickr.com/photos/104241758@N03/" target="_blank">
            <i class="fa fa-flickr"></i> Flickr
        </a></li>
        <li class="list-group-item"><a href="https://delicious.com/jeffskinnerbox" target="_blank">
            <i class="fa fa-delicious"></i> Delicious
        </a></li>
        <li class="list-group-item"><a href="https://www.pinterest.com/jeffskinnerbox/my-electronics-projects-and-other-diversions/" target="_blank">
            <i class="fa fa-pinterest"></i> Pinterest
        </a></li>
        <li class="list-group-item"><a href="http://getpocket.com/a/queue/" target="_blank">
            <i class="fa fa-chevron-circle-down"></i> Pocket
        </a></li>
        <li class="list-group-item"><a href="http://jeffskinnerbox.tumblr.com/" target="_blank">
            <i class="fa fa-tumblr"></i> Tumblr
        </a></li>
        <li class="list-group-item"><a href="http://instagram.com/jeffskinnerbox" target="_blank">
            <i class="fa fa-instagram"></i> Instagram
        </a></li>
        <li class="list-group-item"><a href="https://www.facebook.com/jeff.irland" target="_blank">
            <i class="fa fa-facebook"></i> Facebook
        </a></li>
        <li class="list-group-item"><a href="https://linkedin.com/in/jeffreyirland" target="_blank">
            <i class="fa fa-linkedin"></i> Linkedin
        </a></li>
        <li class="list-group-item"><a href="http://www.commandlinefu.com/commands/by/jeffskinnerbox" target="_blank">
            <i class="fa fa-terminal"></i> CommandLineFu
        </a></li>
        <li class="list-group-item"><a href="https://disqus.com/by/jeffskinnerbox/" target="_blank">
            <i class="fa fa-comment"></i> DISQUS
        </a></li>
    </ul>
</li> 

<li class="list-group-item"><h4><i class="fa fa-thumbs-up fa-lg"></i><span class="icon-label">Reposted At</span></h4>
    <ul class="list-group" id="links">
        <li class="list-group-item">
            <a href="http://www.eeweb.com/websites/jeffs-skinner-box" target="_blank">
                EEWeb.com
            </a>
        </li>
    </ul>
</li>
<li class="list-group-item"><h4><i class="fa fa-gears fa-lg"></i><span class="icon-label">Admin</span></h4>
    <ul class="list-group" id="links">
        <li class="list-group-item">
            <a href="https://www.google.com/analytics/web/?hl=en#report/visitors-overview/a43272292w73270397p83408137/" target="_blank">
                Google Analytics
            </a>
        </li>
        <li class="list-group-item">
            <a href="https://github.com/jeffskinnerbox/jeffskinnerbox.github.io" target="_blank">
                Web Site Source Code
            </a>
        </li>
    </ul>
</li>
            <li class="list-group-item"><a href="../../../../../pages/this-blog-is-powered-by/index.html"><h4><i class="fa fa-rocket fa-lg"></i><span class="icon-label">This Blog Powered By</span></h4></a>

        </ul>
    </section>

</aside>        </div>
    </div>
</div>
<footer>
   <div class="container">
      <hr>
      <div class="row">
         <div class="col-xs-10">This Blog Powered By 
            <a href="http://docs.getpelican.com/" target="_blank">Pelican</a>,
            <a href="http://tiddlywiki.com/" target="_blank">TiddlyWiki</a>,
            <a href="http://ipython.org/notebook.html" target="_blank">Python Notebook</a>,
            <a href="http://getbootstrap.com" target="_blank">Bootstrap</a>, And
            <a href="/pages/this-blog-is-powered-by/index.html" target="_blank">Other Things</a>.
            <p>
            <a href="http://opensource.org/">
                <img src="/images/logos/open_source_logo.png" alt="Open Source Logo" title="The Open Source Initiative (OSI) is a non-profit corporation with global scope formed to educate about and advocate for the benefits of open source, and to build bridges among different constituencies in the open source community. The OSI maintains the Open Source Definition and the list of Open Source Initiative-approved licenses." height="40px" width="40px">
            </a>
            <a href="http://www.oshwa.org/">
                <img src="/images/logos/open-soruce-hardware-logo-800-px.png" alt="Open Source Hardware Logo" title="The Open Source Hardware Association aims to be the voice of the open hardware community, ensuring that technological knowledge is accessible to everyone, and encouraging the collaborative development of technology that serves education, environmental sustainability, and human welfare." height="40px" width="40px">
            </a>
            <small>
                All my work on this blog is
                <a href="http://opensource.org/licenses/MIT/" target="_blank">MIT Licensed, open, and free</a>,
                except where indicated otherwise.
            </small>
            </p>
         </div>
         <div class="col-xs-2"><p class="pull-right"><i class="fa fa-arrow-up"></i> <a href="#">Back to top</a></p></div>
      </div>
   </div>
</footer>
<script src="http://code.jquery.com/jquery.js"></script>

<!-- Include all compiled plugins (below), or include individual files as needed -->
<script src="../../../../../theme/js/bootstrap.min.js"></script>

<!-- Enable responsive features in IE8 with Respond.js (https://github.com/scottjehl/Respond) -->
<script src="../../../../../theme/js/respond.min.js"></script>

    <script type="text/javascript">
        $(document).ready(function () {
            if (!window.jXHR) {
                var jxhr = document.createElement('script');
                jxhr.type = 'text/javascript';
                jxhr.src = '../../../../../theme/js/jXHR.js';
                var s = document.getElementsByTagName('script')[0];
                s.parentNode.insertBefore(jxhr, s);
            }

            github.showRepos({
                user: 'jeffskinnerbox',
                count: 5,
                skip_forks: false,
                target: '#gh_repos'
            });
        });
    </script>
    <script src="../../../../../theme/js/github.js" type="text/javascript"></script>
</body>
</html>